Харківський університет радіоелектроніки
Факультет комп'ютерних наук
Кафедра програмної інженерії
ЗВІТ
до лабораторної роботи №5 з дисципліни
"Аналіз та рефакторинг коду"


Виконав: ст. гр. ПЗПІ-22-6
Кривко Роман Андрійович


Перевірив
ст. викладач кафедри ПІ
Сокорчук Ігор Петрович

Харків 2024


5 РОЗГОРТАННЯ ПРОГРАМНОЇ СИСТЕМИ ТА ДЕМОНСТРАЦІЯ ЇЇ РОБОТИ
5.1 Мета роботи
На лабораторній роботі №5 потрібно розгорнути програмну систему та продемонструвати її роботу.

5.2 Хід роботи

5.2.1 Підготовка застосунку до розгортання
        Для підготовки програми до розгортання та полегшення запуску системи на різних машинах було використано Docker та створено файл конфігурації docker-compose.yaml (див. додаток А). У файлі було налаштовано образи для основного застосунку (сервіс app) та образ для бази даних (сервіс db), а також записані команди для автоматичної зборки та запуску системи.

5.2.2 Створення та налаштування EC2 instance на AWS
На хмарній платформі AWS (Amazon Web Services) для розгортання API системи був створений EC2 instance. У відповідності до потреб системи був обраний образ Ubuntu з 1 vCPU та 3.75 ГБ оперативної пам’яті, що цілком задовольняє потреби застосунку. Були налаштовані правила доступу до машини, а також створена пара ключів для доступу за SSH.

5.2.3 Розгортання системи
Після успішного запуску машини було встановлення SSH з’єднання з сервером та виконані команди для автоматичного розгортання застосунку:
1 sudo apt update
2 sudo apt install docker-compose
3 git clone https://github.com/NureKryvkoRoman/arkpz-pzpi-22-6-kryvko-roman.git
4 cd arkpz-pzpi-22-6-kryvko-roman/Task5/arkpz-pzpi-22-6-kryvko-roman-task5/Atark
5 sudo docker-compose up –build

Після цього була проведена перевірка роботи застосунку, що підтвердила, що він був успішно розгорнутий та перебував у робочому режимі.


Висновок
Під час виконання лабораторної роботи №5 була розгорнута програма систему, а також продемонстрована  її робота.

Посилання на відео: https://youtu.be/myTAukAAqN4


________________


ДОДАТОК А
Файл конфігурації системи: лістинг
1        services:
2          app:
3            image: eclipse-temurin:21-jdk
4            container_name: java_app
5            working_dir: /app
6            volumes:
7              - .:/app
8            ports:
9              - "80:8080"
10            environment:
11              - SPRING_DATASOURCE_URL=jdbc:postgresql://db:5432/atark
12              - SPRING_DATASOURCE_USERNAME=postgres
13              - SPRING_DATASOURCE_PASSWORD=postgres
14            depends_on:
15              - db
16            command: >
17              sh -c "apt update && apt install -y maven && mvn clean package && java -jar target/*.jar"


18          db:
19            image: postgres:15
20            container_name: postgres_db
21            restart: always
22            environment:
23              POSTGRES_DB: atark
24              POSTGRES_USER: postgres
25              POSTGRES_PASSWORD: postgres
